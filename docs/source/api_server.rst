==================
Data API
==================

위성자료 및 위성자료로 생산한 데이터를 조회하는 서비스


1. 상세기능
^^^^^^^^^^^^

   조회조건(시점)으로 위성자료(청천복사량, 구름 분석 등)와 위성자료로 생산한 데이터(구름움직임 등)를 조회하는 기능

      - **요청주소**: ```http://api.60hz.io/data/```
      - **반환타입**: ```json```


2. 요청변수 (Request Parameters)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     
   ===============  ==================  ============  =========================
    항목명(국문)      항목명(영문)         항목구분       항목설명
   ===============  ==================  ============  =========================
    데이터명          target_data         필수          조회할 데이터 이름
    조회시점          target_datetime     필수          조회 시점(YYYYMMDDhhmm)
   ===============  ==================  ============  =========================


3. 출력 결과 (Response)
^^^^^^^^^^^^^^^^^^^^^^^^

   ===============  ==================  ============================================================================
    항목명(국문)      항목명(영문)         항목설명
   ===============  ==================  ============================================================================
    데이터            data               8비트 이진 데이터로 암호화된 이미지 데이터, Base64 등을 이용한 decode 과정 필요
                                         (원본 이미지 크기=1000x800)
   ===============  ==================  ============================================================================



^^^^^^^^^^^^^^^^


샘플코드 (python3)
===================

.. code::

   import requests

   url = 'http://api.60hz.io/data'
   params = {'target_data':'cloudmotion', 'target_datetime':'202111181800'}

   response = requests.get(base_url, params=params)
   data = response.json()['data'].encode('utf-8')
   print(data)


   # 반환된 결과를 원본 이미지 데이터 형태로 decode 위해 'base64'와 'numpy'를 사용
   import base64
   import numpy as np

   np.frombuffer(
      base64.decodebytes(data), dtype='float32'
   ).reshape(1000, 800, 2)

